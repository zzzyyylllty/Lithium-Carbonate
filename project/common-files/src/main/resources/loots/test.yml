test_loot:
  display:

    # Loot Name
    name: "Test Loot CHEST"

    # GUI Name
    title: "Loot"

    # Loot rows
    rows: 3

    layout:
      - '         '
      - '         '
      - '         '

    # Manually set available slots.
    # Leave a null for automatic find spaces in layout.
    # available-slots: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]

  define:
#    region_a:
#      type: worldguard
#      region: sample_region
#      OR:
#      region： |
#        sample1
#        sample2
#      OR:
#      region：
#        - sample1
#        - sample2
#      regex: false # Use regex in region validate, ex region: "region_.+"

    region_b:
      type: square

      # For performance reasons, when reading,
      # 'from' will be read as the side with the smallest coordinates, and 'to' will be read as the side with the largest coordinates
      # EX:
      # from: 'world 100 0 100'; to: 'world 0 100 0' -> from: 'world 0 0 0' to: 'world 100 100 100'
      # You can use regex in world names. Square only use the `from` location's world.
      from: 'world 0 0 0'
      to: 'world 100 100 100'
      blocks:
        - CHEST

      # Only world supports regex.
      regex: true
    # conditions:
    #   js: |
    #     type == "CHEST"
    #   ke:
    #     check &type == "CHEST"

    region_c:
      type: world
      world: world_.+
      regex: true # Use regex in region validate, ex world: "level_.+"
      blocks:
        - CHEST
        - HOPPER
    region_d:
      type: specify
      locations:
        - 'world 114 51 4'
      # Only world supports regex.
      regex: true
      regenerate:
        # If this block is air, regenerate it on reload & WorldLoadEvent.
        # Only works on specify mode!
        enabled: true
        replace: CHEST

  options:
    add-lore: |
      Click to claim!
#    remove-lore: true
  pools:
    - rolls: 5
    # conditions: {}
      loots:
        - conditions:
          # mode: ALL - Optional, ALL by default, require js and kether must all true, accept values: ANY, ALL
            js: |
              player.name != "AmeChan"
            ke:
              all [ check player name != "AmeChan" check player name != "ChoTenChan" ]

          # External item like: craftengine:item:topaz, mmoitems:MATERIAL:RARE_DIAMOND
          # Supported plugins: https://github.com/jhqwqmc/ItemBridge
          # Note: ItemBridge dependency may not be latest. If you have issues with external items,
          # Please contact me at discord / qq or open an issue.
          items:
            - item: minecraft:glass
          # component: {}

          exp: 3~5 # exp: "{{ random 1 to 10 }}"

          weight: 3.14 # Supported decimal
          # weight: "{{ random 1 to 10 }}" for dynamic weight.

          search-time: 1000 # MS
          skip-search: false

          # Displayed item. This is optional. if leave a blank will use reward item.
          display:
            item: minecraft:tinted_glass # Optional if leave a blank will use reward item for base.
            lore: |
              An visual line here
              If you look missing texture here, it's normal.
              Just remove components & tooltip_style in your loot config to fix.
            components: # Supported 1.20.5+ DataComponent
              tooltip_style: default:topaz

          kether: |
            minitell "hello!"
          javascript: |
            player.sendMessage(mmUtil.deserialize("<rainbow>Hello!"))

          agent:
            onClaim:
              ke: |
                tell "Claimed item."

  agents:
    onOpen:
      js_async: |
        player.sendMessage(mmUtil.deserialize("Hello world, " + player.name + "!"))
    onClaim:
      js_async: |
        player.sendMessage(mmUtil.deserialize("Claimed Item: ").append(item.displayname))